package org.open.erp.services.proman.teste;

import org.apache.log4j.BasicConfigurator;
import org.apache.log4j.xml.DOMConfigurator;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;
import org.open.erp.services.buget.BugetareSrv;
import org.open.erp.services.proman.Proiect;
import org.open.erp.services.proman.ProjectManagementSrv;
import static org.junit.Assert.*; 

/**
 * 
 * Foloseste numai ERP.API fara dependente relativ la implementare.
 * Instantele concrete de implementare ale serviciilor sunt furnizate de o clasa Factory.
 * 
 * @author catalin.strimbei
 *
 */
public class TestProjectManagementSrv {
	private static org.apache.log4j.Logger logger = org.apache.log4j.Logger.getLogger(TestProjectManagementSrv.class.getName());
	ProjectManagementSrv promanInstance;
	
	@Before public void initTest(){
		promanInstance= DummyFactory.getProjectManagementSrv();
		logger.info("initTest");
	}
	
	@Test
	public void testCreareProiect(){
		logger.info("Begin test: creareProiect");
		
		Double valoareBugetata = 0.0;
		Proiect proiect = promanInstance.creareProiect("Test", null, null, null, valoareBugetata);
		assertNotNull("Nu exista proiect nou!", proiect);
		assertNotNull("Proiectul nu are buget alocat!", proiect.getBuget());
		assertEquals("Valoarea bugetata nu concorda cu bugetul alocat!", valoareBugetata, proiect.getBuget().getValoareBuget());
		
		
		logger.info("End test: creareProiect");
	}
}
